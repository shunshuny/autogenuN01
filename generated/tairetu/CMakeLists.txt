
# This file was automatically generated by autogenu-jupyter (https://github.com/mayataka/autogenu-jupyter). 
# The autogenu-jupyter copyright holders make no ownership claim of its contents. 

cmake_minimum_required(VERSION 3.1)
project(tairetu CXX)

set(CMAKE_CXX_STANDARD 17)

option(VECTORIZE "Enable -march=native" OFF)
option(BUILD_MAIN "Build C++ simulation" ON)
option(BUILD_PYTHON_INTERFACE "Build Python interface" OFF)

find_package(cgmres QUIET)
if (NOT cgmres_FOUND)
  set(CGMRES_INCLUDE_DIR ${PROJECT_SOURCE_DIR}/../../include)
endif()

if (BUILD_MAIN)
  add_executable(
    ${PROJECT_NAME}
    main.cpp
  )
  target_include_directories(
      ${PROJECT_NAME}
      PRIVATE
      ${CGMRES_INCLUDE_DIR}
  )
  if (VECTORIZE)
    target_compile_options(
      ${PROJECT_NAME}
      PRIVATE
      -march=native
    )
  endif()
endif()

if (BUILD_PYTHON_INTERFACE)
    add_subdirectory(python/common)
    add_subdirectory(python/${PROJECT_NAME})
endif()
